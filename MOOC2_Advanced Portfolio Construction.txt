{"payload":{"allShortcutsEnabled":true,"path":"MOOC2_Advanced Portfolio Construction","repo":{"id":511206974,"defaultBranch":"main","name":"EDHEC_Investment-Management-with-Python-and-Machine-Learning-","ownerLogin":"PeterSchuld","currentUserCanPush":false,"isFork":false,"isEmpty":false,"createdAt":"2022-07-07T01:10:29.000+09:00","ownerAvatar":"https://avatars.githubusercontent.com/u/59873708?v=4","public":true,"private":false,"isOrgOwned":false},"currentUser":{"id":109285569,"login":"Garylee9912","userEmail":"garylee9912@gmail.com"},"refInfo":{"name":"main","listCacheKey":"v0:1659692124.128854","canEdit":true,"refType":"branch","currentOid":"aff2104e3e2cb245e1969defa63e4550b95d6042"},"tree":{"items":[{"name":"data","path":"MOOC2_Advanced Portfolio Construction/data","contentType":"directory"},{"name":"README.md","path":"MOOC2_Advanced Portfolio Construction/README.md","contentType":"file"},{"name":"brka_m.csv","path":"MOOC2_Advanced Portfolio Construction/brka_m.csv","contentType":"file"},{"name":"edhec_risk_kit_201.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_201.py","contentType":"file"},{"name":"edhec_risk_kit_202.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_202.py","contentType":"file"},{"name":"edhec_risk_kit_203.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_203.py","contentType":"file"},{"name":"edhec_risk_kit_204.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_204.py","contentType":"file"},{"name":"edhec_risk_kit_205.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_205.py","contentType":"file"},{"name":"edhec_risk_kit_206.py","path":"MOOC2_Advanced Portfolio Construction/edhec_risk_kit_206.py","contentType":"file"},{"name":"lab_201.ipynb","path":"MOOC2_Advanced Portfolio Construction/lab_201.ipynb","contentType":"file"},{"name":"lab_202.ipynb","path":"MOOC2_Advanced Portfolio Construction/lab_202.ipynb","contentType":"file"},{"name":"lab_203.ipynb","path":"MOOC2_Advanced Portfolio Construction/lab_203.ipynb","contentType":"file"},{"name":"lab_204.ipynb","path":"MOOC2_Advanced Portfolio Construction/lab_204.ipynb","contentType":"file"}],"templateDirectorySuggestionUrl":null,"readme":{"displayName":"README.md","richText":"<article class=\"markdown-body entry-content container-lg\" itemprop=\"text\"><h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content-notebooks-and-code-for-advanced-portfolio-construction-and-analysis-with-python\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#notebooks-and-code-for-advanced-portfolio-construction-and-analysis-with-python\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>Notebooks and Code for Advanced Portfolio Construction and Analysis with Python</h1>\n<p dir=\"auto\">(c) Vijay Vaidyanathan 2019</p>\n<p dir=\"auto\">These files should be in the same level where you have your data folder.</p>\n<p dir=\"auto\">Please send any comments, bugs (or bug fixes!) to <a href=\"mailto:vijay@OptimalAM.com\">vijay@OptimalAM.com</a> and I'll incorporate in the next version.</p>\n<p dir=\"auto\">This is the beta test version v03 19_01_2021</p>\n<p dir=\"auto\">The amendents in v03 with respect to v02 are:</p>\n<ol dir=\"auto\">\n<li>lab_203: to give the width of the rolling window we have to use the number of months. In the previous version there was the number of days written as string but it was not working.</li>\n</ol>\n<p dir=\"auto\">ax = ind_cw.rolling('1825D').apply(erk.sharpe_ratio, raw=True, kwargs={\"riskfree_rate\":0.03, \"periods_per_year\":12}).mean(axis=1)[\"1945\":].plot(figsize=(12,5), label=\"CW\", legend=True)\nind_ew.rolling('1825D').apply(erk.sharpe_ratio, raw=True, kwargs={\"riskfree_rate\":0.03, \"periods_per_year\":12}).mean(axis=1)[\"1945\":].plot(ax=ax, label=\"EW\", legend=True)</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">#=========================<br>\n#===========================\n#=========================</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content--1\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#-1\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">ax = ind_cw.rolling(60).apply(erk.sharpe_ratio, raw=True, kwargs={\"riskfree_rate\":0.03, \"periods_per_year\":12}).mean(axis=1)[\"1945\":].plot(figsize=(12,5), label=\"CW\", legend=True)\nind_ew.rolling(60).apply(erk.sharpe_ratio, raw=True, kwargs={\"riskfree_rate\":0.03, \"periods_per_year\":12}).mean(axis=1)[\"1945\":].plot(ax=ax, label=\"EW\", legend=True)</p>\n<p dir=\"auto\">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</p>\n<ol start=\"2\" dir=\"auto\">\n<li>lab_204: in the weight_cw fuction it was used the less recent information in the rolling window to compute the weights of the portfolio in the back test. Now the function takes the most recent information available.</li>\n</ol>\n<p dir=\"auto\">def weight_cw(r, cap_weights, **kwargs):\n\"\"\"\nReturns the weights of the CW portfolio based on the time series of capweights\n\"\"\"\nreturn cap_weights.loc[r.index[0]]</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content--2\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#-2\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">#=========================<br>\n#===========================\n#=========================</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content--3\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#-3\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">def weight_cw(r, cap_weights, **kwargs):\n\"\"\"\nReturns the weights of the CW portfolio based on the time series of capweights\n\"\"\"\nreturn cap_weights.loc[r.index[1]]</p>\n<p dir=\"auto\">;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;</p>\n<p dir=\"auto\">def weight_cw(r, cap_weights, **kwargs):\n\"\"\"\nReturns the weights of the CW portfolio based on the time series of capweights\n\"\"\"\nw = cap_weights.loc[r.index[0]]\nreturn w/w.sum()</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content--4\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#-4\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">#=========================<br>\n#===========================\n#=========================</p>\n<h1 tabindex=\"-1\" dir=\"auto\"><a id=\"user-content--5\" class=\"anchor\" aria-hidden=\"true\" tabindex=\"-1\" href=\"#-5\"><svg class=\"octicon octicon-link\" viewBox=\"0 0 16 16\" version=\"1.1\" width=\"16\" height=\"16\" aria-hidden=\"true\"><path d=\"m7.775 3.275 1.25-1.25a3.5 3.5 0 1 1 4.95 4.95l-2.5 2.5a3.5 3.5 0 0 1-4.95 0 .751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018 1.998 1.998 0 0 0 2.83 0l2.5-2.5a2.002 2.002 0 0 0-2.83-2.83l-1.25 1.25a.751.751 0 0 1-1.042-.018.751.751 0 0 1-.018-1.042Zm-4.69 9.64a1.998 1.998 0 0 0 2.83 0l1.25-1.25a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042l-1.25 1.25a3.5 3.5 0 1 1-4.95-4.95l2.5-2.5a3.5 3.5 0 0 1 4.95 0 .751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018 1.998 1.998 0 0 0-2.83 0l-2.5 2.5a1.998 1.998 0 0 0 0 2.83Z\"></path></svg></a>====</h1>\n<p dir=\"auto\">def weight_cw(r, cap_weights, **kwargs):\n\"\"\"\nReturns the weights of the CW portfolio based on the time series of capweights\n\"\"\"\nw = cap_weights.loc[r.index[1]]\nreturn w/w.sum()</p>\n</article>","errorMessage":null,"headerInfo":{"toc":[{"level":1,"text":"Notebooks and Code for Advanced Portfolio Construction and Analysis with Python","anchor":"notebooks-and-code-for-advanced-portfolio-construction-and-analysis-with-python","htmlText":"Notebooks and Code for Advanced Portfolio Construction and Analysis with Python"},{"level":1,"text":"====","anchor":"","htmlText":"===="},{"level":1,"text":"====","anchor":"-1","htmlText":"===="},{"level":1,"text":"====","anchor":"-2","htmlText":"===="},{"level":1,"text":"====","anchor":"-3","htmlText":"===="},{"level":1,"text":"====","anchor":"-4","htmlText":"===="},{"level":1,"text":"====","anchor":"-5","htmlText":"===="}],"siteNavLoginPath":"/login?return_to=https%3A%2F%2Fgithub.com%2FPeterSchuld%2FEDHEC_Investment-Management-with-Python-and-Machine-Learning-%2Ftree%2Fmain%2FMOOC2_Advanced%2520Portfolio%2520Construction"}},"totalCount":13,"showBranchInfobar":false},"fileTree":{"":{"items":[{"name":"Literature","path":"Literature","contentType":"directory"},{"name":"MOOC1_Introduction to Portfolio Construction","path":"MOOC1_Introduction to Portfolio Construction","contentType":"directory"},{"name":"MOOC2_Advanced Portfolio Construction","path":"MOOC2_Advanced Portfolio Construction","contentType":"directory"},{"name":"MOOC3_Python and ML for Asset Mngt","path":"MOOC3_Python and ML for Asset Mngt","contentType":"directory"},{"name":"MOOC4_Alternative Data","path":"MOOC4_Alternative Data","contentType":"directory"},{"name":"README.md","path":"README.md","contentType":"file"}],"totalCount":6}},"fileTreeProcessingTime":2.75746,"foldersToFetch":[],"treeExpanded":true,"symbolsExpanded":false,"csrf_tokens":{"/PeterSchuld/EDHEC_Investment-Management-with-Python-and-Machine-Learning-/branches":{"post":"PgoJEjDLEwH_iER9PUoTdEeMkyJ3Ra43LHvnlJeebRGINBPjx435a4EguHuOi19MLhtbjbBzMQgvIPxEaDdEtQ"},"/PeterSchuld/EDHEC_Investment-Management-with-Python-and-Machine-Learning-/branches/fetch_and_merge/main":{"post":"5ZUBHCIBNqHhy_TBhLP-AM1ZlgNKmumDgu52Cm1XBYBpcqcvMYAB9OYK-VdT1vK4Yp1TYkovRG2QoVLSCNa2ng"},"/PeterSchuld/EDHEC_Investment-Management-with-Python-and-Machine-Learning-/branches/fetch_and_merge/main?discard_changes=true":{"post":"EvbTZzb98fG44CcZVCzRzhPywN1KfMtZ4tT9eQdOOd-eEXVUJXzGpL8hKo-DSd12vDYFvErJZrfwm9mhYs-KwQ"}}},"title":"EDHEC_Investment-Management-with-Python-and-Machine-Learning-/MOOC2_Advanced Portfolio Construction at main Â· PeterSchuld/EDHEC_Investment-Management-with-Python-and-Machine-Learning-"}